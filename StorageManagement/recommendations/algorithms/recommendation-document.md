ุฏุฑ ุงู ูุณุฎู ุจูโุฑูุฒ ุดุฏู ุงุฒ ูุณุชูุฏุงุชุ ุจุฎุดโูุง ูููโุชุฑุ ุฏููโุชุฑ ู ุฌุงูุนโุชุฑ ุชูุถุญ ุฏุงุฏู ุดุฏูโุงูุฏ ุชุง ุฏุฑฺฉ ฺฉุงูู ุงุฒ ููุทู ู ูพุงุฏูโุณุงุฒ ุณุณุชู ุชูุตูโฺฏุฑ ูุฑุงูู ุดูุฏ:

---

# ๐ Hybrid Recommendation Algorithm

ุงู ูุณุชูุฏุ ุทุฑุงุญ ู ููุทู ุณุณุชู ุชูุตูโฺฏุฑ ูุจุฑุฏ ุฏุฑ ูพุฑูฺู ุฌูฺฏู ุฑุง ุดุฑุญ ูโุฏูุฏ. ุงู ุณุณุชู ุจุง ุชุฑฺฉุจ **ููุชุฑ ูุญุชูุง (Content-Based Filtering)** ู **ููุชุฑ ูุดุงุฑฺฉุช (Collaborative Filtering)**ุ ูพุดููุงุฏูุง ุดุฎุตโุณุงุฒโุดุฏู ุจุฑุง ฺฉุงุฑุจุฑุงู ุชููุฏ ูโฺฉูุฏุ ูุจุชู ุจุฑ ูฺฺฏโูุง ูุญุตููุงุช ู ุงูฺฏููุง ุฎุฑุฏ ฺฉุงุฑุจุฑุงู.

---

## ๐ Overview

ุงูฺฏูุฑุชู ุชูุตูโฺฏุฑ ุจูโุตูุฑุช ูพูุง ุจุง ุชูุฌู ุจู ุณุทุญ ูุนุงูุช ฺฉุงุฑุจุฑ ุฑูุชุงุฑ ุฎูุฏ ุฑุง ุชุทุจู ูโุฏูุฏ:

* **ฺฉุงุฑุจุฑุงู ุฌุฏุฏ** โ ุชุงฺฉุฏ ุจุดุชุฑ ุจุฑ ูุญุชูุง (content-based)
* **ฺฉุงุฑุจุฑุงู ูุนุงู** โ ุชุงฺฉุฏ ุจุดุชุฑ ุจุฑ ุชุนุงููุงุช ฺฉุงุฑุจุฑุงู (collaborative)
* **ฺฉุงุฑุจุฑุงู ูููโูุนุงู** โ ุชุฑฺฉุจ ูุชุนุงุฏู ุงุฒ ูุฑ ุฏู ุฑูุด

---

## ๐ง Core Components

### 1. Content-Based Filtering

ุณุณุชู ุจุง ุชูุฌู ุจู ูฺฺฏโูุง ูุฑ ูุญุตูู ุจุฑุง ฺฉุงุฑุจุฑ ูุดุงุจูโุชุฑูโูุง ุฑุง ูพุฏุง ูโฺฉูุฏ:

#### ๐ ูฺฺฏโูุง ููุฑุฏ ุงุณุชูุงุฏู:

* **Profit Margin**: ุงุฎุชูุงู ุณูุฏ ุงุฒ ููุช ุฎุฑุฏ ู ูุฑูุด
* **Product Average Score**: ูุงูฺฏู ุงูุชุงุฒ ุฏุฑุงูุชโุดุฏู ุชูุณุท ูุญุตูู
* **User Rating**: ุงูุชุงุฒ ฺฉู ฺฉุงุฑุจุฑ ุจู ูุญุตูู ุฏุงุฏู ุงุณุช
* **Product Categories**: ุฏุณุชูโุจูุฏโูุง ูุญุตูู (ุจุง One-Hot Encoding)

#### โ๏ธ ูพุฑุฏุงุฒุด:

* ูฺฺฏโูุง ุนุฏุฏ ุจุง `StandardScaler` ูุฑูุงูโุณุงุฒ ูโุดููุฏ
* ุจุฑุง ุชุดุงุจู ุจู ุจุฑุฏุงุฑ ูฺฺฏโูุง ุงุฒ **Cosine Similarity** ุงุณุชูุงุฏู ูโุดูุฏ

### 2. Collaborative Filtering

ุจุง ุชุญูู ุฑูุชุงุฑ ฺฉุงุฑุจุฑุงู ูุดุงุจูุ ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ ูุญุตููุงุช ูพุดููุงุฏ ูโุดูุฏ ฺฉู ุชูุณุท ุฏฺฏุฑุงู ุจุง ุฑูุชุงุฑ ูุดุงุจู ููุฑุฏ ูพุณูุฏ ูุงูุน ุดุฏูโุงูุฏ.

#### ๐ ูุฑุงุญู:

* ุณุงุฎุช **ูุงุชุฑุณ ฺฉุงุฑุจุฑ-ูุญุตูู** (User-Item Matrix) ุจุง ุงุณุชูุงุฏู ุงุฒ `pandas.pivot_table`
* ุงุณุชูุงุฏู ุงุฒ `KNN (NearestNeighbors)` ุจุง ูุชุฑฺฉ `cosine` ุจุฑุง ุงูุชู ฺฉุงุฑุจุฑุงู ูุดุงุจู
* ูุงูฺฏูโฺฏุฑ ุงุฒ ุงูุชุงุฒุงุช ฺฉุงุฑุจุฑุงู ูุดุงุจู ุจุฑุง ูุญุตููุงุช ูุดุชุฑฺฉ

---

## โ๏ธ Hybrid Strategy

ุงูุชุงุฒุงุช ุญุงุตู ุงุฒ ุฏู ุฑูุด ูููุ ุจุง ุถุฑุงุจ ุชุฑฺฉุจ ุชุฑฺฉุจ ูโุดููุฏ:

| ููุน ฺฉุงุฑุจุฑ            | ฮฑ (Content) | ฮฒ (Collaborative) | ุชูุถุญ                        |
| -------------------- | ----------- | ----------------- | ---------------------------- |
| ฺฉุงุฑุจุฑ ุฌุฏุฏ (ฐ ุณูุงุฑุด) | 0.7         | 0.3               | Cold start โ ุจุฏูู ุณุงุจูู ุฎุฑุฏ |
| ูููโูุนุงู (<ต ุณูุงุฑุด) | 0.5         | 0.5               | ุฑูุชุงุฑ ูุชูุณุท                  |
| ูุนุงู (โฅต ุณูุงุฑุด)      | 0.3         | 0.7               | ูุงุจุณุชฺฏ ุจุดุชุฑ ุจู ููโุณูููโูุง |

---

## ๐ Algorithm Flow

1. **ุจุงุฑฺฏุฑ ุฏุงุฏูโูุง** ุงุฒ `order_items_data.csv` (ุชุงุฑุฎฺู ุณูุงุฑุด ู ุงูุชุงุฒุงุช)
2. **ูพุดโูพุฑุฏุงุฒุด ุฏุงุฏูโูุง**:

   * ูพุฑฺฉุฑุฏู ููุงุฏุฑ ฺฏูุดุฏู (rating ู ุฏุณุชูโุจูุฏโูุง)
   * ูุฑูุงูโุณุงุฒ ูฺฺฏโูุง ุนุฏุฏ
   * ฺฉุฏฺฏุฐุงุฑ ุฏุณุชูโุจูุฏโูุง ุจู ุฑูุด One-Hot
3. **ุณุงุฎุช ูุงุชุฑุณโูุง**:

   * ุจุฑุฏุงุฑ ูฺฺฏโูุง ูุญุชูุง ูุญุตููุงุช
   * ูุงุชุฑุณ ุชุนุงูู ฺฉุงุฑุจุฑุงู ู ูุญุตููุงุช (user-item)
4. **ุชููุฏ ูพุดููุงุฏุงุช ุงููู**:

   * ุงุฒ ุทุฑู ุดุจุงูุช ูฺฺฏโูุง ูุญุตูู (content)
   * ุงุฒ ุทุฑู ฺฉุงุฑุจุฑุงู ูุดุงุจู (collaborative)
5. **ุชุฑฺฉุจ ูุชุงุฌ ุจุง ุถุฑุงุจ ูุฒู**:

   * ุงูุชุงุฒ ููุง = ฮฑ ร ูุญุชูุง + ฮฒ ร ูุดุงุฑฺฉุช
6. **ุงุนูุงู ูุญุฏูุฏุชโูุง ุชุฌุงุฑ**:

   * ููุท ูุญุตููุงุช ูพุดููุงุฏ ูโุดููุฏ ฺฉู ุญุฏุงูู ณ ุนุฏุฏ ููุฌูุฏ ุฏุงุฑูุฏ

---

## ๐ฅ Input

* `user_email`: ุงูู ููุญุตุฑุจูโูุฑุฏ ฺฉุงุฑุจุฑ ุจุฑุง ุงุณุชุฎุฑุงุฌ ุงุทูุงุนุงุช ู ุดูุงุณู

---

## ๐ค Output (API Response)

```json
{
  "success": true,
  "recommendations": [
    {
      "product_name": "Organic Almond Milk",
      "product_image": "https://example.com/image1.jpg",
      "product_avg_score": 4.2,
      "score": 0.78,
      "source": "content"
    },
    {
      "product_name": "Dark Chocolate",
      "product_image": "https://example.com/image2.jpg",
      "product_avg_score": 4.3,
      "score": 0.70,
      "source": "collaborative"
    }
  ],
  "metadata": {
    "user_order_count": 4,
    "alpha": 0.5,
    "beta": 0.5,
    "reason": "few orders"
  }
}
```

---

## ๐ Additional Notes

* ุฏุฑ ุตูุฑุช ฺฉู ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ุง ูุญุตูู ูุงูุต ุจุงุดุฏ (ูุงููุฏ ุนุฏู ููุฌูุฏ ุง ูุจูุฏ ุฏุฑ ูพุงฺฏุงู ุฏุงุฏู)ุ ุงุฒ ูพุดููุงุฏ ุฏุงุฏู ุขู ุตุฑูโูุธุฑ ูโุดูุฏ
* ุงูุชุงุฒุงุช ุฏุฑ ุฎุฑูุฌ ุจู ุตูุฑุช **ูุฒู ููุง** ุจูุฏู ู ุจู ุตูุฑุช ฺฏุฑุฏ ุดุฏู (ุชุง ณ ุฑูู ุงุนุดุงุฑ) ุงุฑุงุฆู ูโุดููุฏ
* ุฏุฑ ุตูุฑุช ฺฉู ุฏุงุฏูโ ฺฉุงู ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏุ ุฎุฑูุฌ ุฎุงู ุง ุจุง ูุดุฏุงุฑ ุจุฑูโฺฏุฑุฏุฏ

---
